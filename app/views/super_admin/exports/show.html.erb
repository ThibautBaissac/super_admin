<% content_for :title, t("super_admin.exports.show.title", token: @export.token) %>
<% content_for :breadcrumbs do %>
  <li class="flex items-center">
    <svg class="h-5 w-5 text-gray-400 mx-2" fill="currentColor" viewBox="0 0 20 20">
      <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
    </svg>
    <%= link_to t("super_admin.exports.index.breadcrumb"), super_admin_exports_path, class: "text-blue-600 hover-text-blue-800" %>
  </li>
  <li class="flex items-center">
    <svg class="h-5 w-5 text-gray-400 mx-2" fill="currentColor" viewBox="0 0 20 20">
      <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
    </svg>
    <span class="text-gray-900 font-medium">#<%= @export.token.first(8) %>â€¦</span>
  </li>
<% end %>

<div class="max-w-3xl mx-auto">
  <div class="bg-white shadow border border-gray-200 rounded-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
      <div>
        <h1 class="text-2xl font-semibold text-gray-900"><%= t("super_admin.exports.show.heading", resource: @export.resource_name.humanize) %></h1>
        <p class="mt-1 text-sm text-gray-500"><%= t("super_admin.exports.status.#{@export.status}") %></p>
      </div>
      <% if @export.ready_for_download? %>
        <%= link_to t("super_admin.exports.show.download"), download_super_admin_export_path(@export.token), class: "inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover-bg-blue-700" %>
      <% end %>
    </div>
    <dl class="divide-y divide-gray-200">
      <div class="px-6 py-4 grid grid-cols-3 gap-4">
        <dt class="text-sm font-medium text-gray-500"><%= t("super_admin.exports.show.created_at") %></dt>
        <dd class="mt-1 text-sm text-gray-900 col-span-2"><%= l(@export.created_at, format: :long) %></dd>
      </div>
      <div class="px-6 py-4 grid grid-cols-3 gap-4">
        <dt class="text-sm font-medium text-gray-500"><%= t("super_admin.exports.show.status") %></dt>
        <dd class="mt-1 text-sm text-gray-900 col-span-2"><%= t("super_admin.exports.status.#{@export.status}") %></dd>
      </div>
      <% if @export.records_count.present? %>
        <div class="px-6 py-4 grid grid-cols-3 gap-4">
          <dt class="text-sm font-medium text-gray-500"><%= t("super_admin.exports.show.records") %></dt>
          <dd class="mt-1 text-sm text-gray-900 col-span-2"><%= number_with_delimiter(@export.records_count) %></dd>
        </div>
      <% end %>
      <% if @export.expires_at.present? %>
        <div class="px-6 py-4 grid grid-cols-3 gap-4">
          <dt class="text-sm font-medium text-gray-500"><%= t("super_admin.exports.show.expires_at") %></dt>
          <dd class="mt-1 text-sm text-gray-900 col-span-2"><%= l(@export.expires_at, format: :long) %></dd>
        </div>
      <% end %>
      <% if @export.error_message.present? %>
        <div class="px-6 py-4 grid grid-cols-3 gap-4">
          <dt class="text-sm font-medium text-gray-500"><%= t("super_admin.exports.show.error") %></dt>
          <dd class="mt-1 text-sm text-red-600 col-span-2"><%= @export.error_message %></dd>
        </div>
      <% end %>
    </dl>
  </div>
</div>
