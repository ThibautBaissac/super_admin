<%# Tailwind-based flash message used within SuperAdmin without ViewComponent dependency %>
<% flash_configs = {
     notice: {
       container_classes: "bg-blue-50 border-blue-200 text-blue-900",
       badge_classes: "bg-blue-100 text-blue-700",
       badge_label: "I"
     },
     success: {
       container_classes: "bg-green-50 border-green-200 text-green-900",
       badge_classes: "bg-green-100 text-green-700",
       badge_label: "✓"
     },
     alert: {
       container_classes: "bg-yellow-50 border-yellow-200 text-yellow-900",
       badge_classes: "bg-yellow-100 text-yellow-700",
       badge_label: "!"
     },
     error: {
       container_classes: "bg-red-50 border-red-200 text-red-900",
       badge_classes: "bg-red-100 text-red-700",
       badge_label: "✕"
     }
   }.freeze %>
<% selected_config = flash_configs[type.to_sym] || flash_configs[:notice] %>

<div
  data-controller="super-admin--flash"
  data-super-admin--flash-auto-dismiss-value="5000"
  class="flash-message w-full overflow-hidden rounded-lg border shadow-md transition-all <%= selected_config[:container_classes] %>"
  role="alert"
  aria-live="polite"
>
  <div class="flex items-start gap-3 p-4">
    <div class="flex-shrink-0 mt-0.5">
      <div class="flex h-6 w-6 items-center justify-center rounded-full text-xs font-semibold <%= selected_config[:badge_classes] %>">
        <%= selected_config[:badge_label] %>
      </div>
    </div>

    <div class="flex-1 pt-0.5">
      <p class="text-sm font-medium leading-relaxed"><%= message %></p>
    </div>

    <button
      type="button"
      data-action="click->super-admin--flash#close"
      class="flex-shrink-0 inline-flex rounded-lg p-1.5 hover:bg-black/5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-current transition-colors"
      aria-label="<%= t('super_admin.actions.close') %>"
    >
      <%= tag.svg(viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", class: "h-5 w-5", aria: { hidden: true }) do %>
        <%= tag.path(d: "M6 6l12 12M6 18L18 6", stroke_linecap: "round", stroke_linejoin: "round", stroke_width: "1.5") %>
      <% end %>
    </button>
  </div>
</div>
